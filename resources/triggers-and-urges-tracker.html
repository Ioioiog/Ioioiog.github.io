<!DOCTYPE html><html><head><base href="https://responsabill.casino/resources/triggers-and-urges-tracker">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triggers and Urges Tracker | ResponsaBILL.casino</title>
    <meta name="description" content="Track and understand your gambling triggers and urges with our interactive tool. Take control of your recovery journey with ResponsaBILL.casino.">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F3F4F6;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex justify-between items-center">
                <a href="/" class="text-2xl font-bold text-blue-600">ResponsaBILL.casino</a>
                <div class="hidden md:flex space-x-4">
                    <a href="/about" class="text-gray-600 hover:text-blue-600">About</a>
                    <a href="/resources" class="text-gray-600 hover:text-blue-600">Resources</a>
                    <a href="/support" class="text-gray-600 hover:text-blue-600">Support</a>
                    <a href="/contact" class="text-gray-600 hover:text-blue-600">Contact</a>
                    <a href="/get-started" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Get Started</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="flex-grow container mx-auto px-6 py-8">
        <h1 class="text-4xl font-bold mb-8 text-center">Triggers and Urges Tracker</h1>
        
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4 text-blue-600">Track Your Triggers and Urges</h2>
            <p class="mb-6 text-gray-600">Understanding your gambling triggers and urges is a crucial step in your recovery journey. Use this interactive tool to log and monitor your experiences, helping you gain valuable insights into your patterns and progress.</p>
            
            <form id="triggerForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                        <input type="date" id="date" name="date" required="" class="w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                    </div>
                    <div>
                        <label for="trigger" class="block text-sm font-medium text-gray-700 mb-1">Trigger</label>
                        <select id="trigger" name="trigger" required="" class="w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                            <option value="">Select a trigger</option>
                            <option value="Stress">Stress</option>
                            <option value="Boredom">Boredom</option>
                            <option value="Financial pressure">Financial pressure</option>
                            <option value="Social influence">Social influence</option>
                            <option value="Advertisement">Advertisement</option>
                            <option value="Loneliness">Loneliness</option>
                            <option value="Excitement seeking">Excitement seeking</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>
                <div>
                    <label for="urgeIntensity" class="block text-sm font-medium text-gray-700 mb-1">Urge Intensity (1-10)</label>
                    <input type="range" id="urgeIntensity" name="urgeIntensity" min="1" max="10" required="" class="w-full" oninput="this.nextElementSibling.value = this.value">
                    <output class="block mt-1 text-sm text-gray-600">5</output>
                </div>
                <div>
                    <label for="coping" class="block text-sm font-medium text-gray-700 mb-1">Coping Strategy Used</label>
                    <textarea id="coping" name="coping" rows="3" class="w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out" placeholder="Describe how you managed the urge"></textarea>
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-150 ease-in-out flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"></path>
                    </svg>
                    Log Entry
                </button>
            </form>
            
            <div class="mt-6 p-4 bg-blue-50 rounded-md">
                <h3 class="text-lg font-semibold text-blue-700 mb-2">Tips for Effective Tracking</h3>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                    <li>Be consistent in logging your experiences</li>
                    <li>Be honest about your urge intensity</li>
                    <li>Reflect on the effectiveness of your coping strategies</li>
                    <li>Look for patterns in your triggers over time</li>
                </ul>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4">Your Trigger and Urge History</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <canvas id="urgeChart" width="400" height="200"></canvas>
                </div>
                <div>
                    <canvas id="triggerChart" width="400" height="200"></canvas>
                </div>
                <div>
                    <canvas id="copingChart" width="400" height="200"></canvas>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4">Insights and Recommendations</h2>
            <div id="insights" class="space-y-4">
                <!-- Insights will be dynamically added here -->
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4">Your Progress</h2>
            <div class="text-center">
                <p class="text-4xl font-bold text-blue-600" id="streakCount">0</p>
                <p class="text-gray-600">Days since last strong urge</p>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4">Data Management</h2>
            <div class="flex space-x-4">
                <button id="exportData" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-150 ease-in-out flex items-center justify-center">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path>
    </svg>
    Export to Excel
</button>
                <input type="file" id="importData" accept=".json" class="hidden">
                <label for="importData" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition duration-150 ease-in-out cursor-pointer">Import Data</label>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4">Set a Goal</h2>
            <form id="goalForm" class="space-y-4">
                <div>
                    <label for="goalDays" class="block text-sm font-medium text-gray-700 mb-1">Days without strong urges</label>
                    <input type="number" id="goalDays" name="goalDays" min="1" required="" class="w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-150 ease-in-out">Set Goal</button>
            </form>
            <div id="goalProgress" class="mt-4 hidden">
                <p class="font-semibold">Progress towards goal: <span id="goalProgressText"></span></p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                    <div class="bg-blue-600 h-2.5 rounded-full" id="goalProgressBar"></div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-6">
            <div class="flex flex-wrap justify-between">
                <div class="w-full md:w-1/4 mb-6 md:mb-0">
                    <h3 class="text-lg font-semibold mb-2">ResponsaBILL.casino</h3>
                    <p class="text-sm">Empowering individuals to overcome gambling addiction and reclaim their lives.</p>
                </div>
                <div class="w-full md:w-1/4 mb-6 md:mb-0">
                    <h4 class="text-lg font-semibold mb-2">Quick Links</h4>
                    <ul class="text-sm">
                        <li><a href="/about" class="hover:text-gray-300">About Us</a></li>
                        <li><a href="/resources" class="hover:text-gray-300">Resources</a></li>
                        <li><a href="/support" class="hover:text-gray-300">Support</a></li>
                        <li><a href="/contact" class="hover:text-gray-300">Contact</a></li>
                    </ul>
                </div>
                <div class="w-full md:w-1/4 mb-6 md:mb-0">
                    <h4 class="text-lg font-semibold mb-2">Legal</h4>
                    <ul class="text-sm">
                        <li><a href="/privacy-policy" class="hover:text-gray-300">Privacy Policy</a></li>
                        <li><a href="/terms-of-service" class="hover:text-gray-300">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="w-full md:w-1/4">
                    <h4 class="text-lg font-semibold mb-2">Connect With Us</h4>
                    <div class="flex space-x-4 mt-2">
                        <a href="#" class="text-gray-400 hover:text-white">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center text-sm">
                <p>© 2023 ResponsaBILL.casino. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        const urgeCtx = document.getElementById('urgeChart').getContext('2d');
        const urgeChart = new Chart(urgeCtx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'Urge Intensity',
                    data: [],
                    borderColor: 'rgb(75, 192, 192)',
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10
                    }
                }
            }
        });

        const triggerCtx = document.getElementById('triggerChart').getContext('2d');
        const triggerChart = new Chart(triggerCtx, {
            type: 'doughnut',
            data: {
                labels: [],
                datasets: [{
                    data: [],
                    backgroundColor: [
                        'rgb(255, 99, 132)',
                        'rgb(54, 162, 235)',
                        'rgb(255, 206, 86)',
                        'rgb(75, 192, 192)',
                        'rgb(153, 102, 255)',
                        'rgb(255, 159, 64)',
                        'rgb(199, 199, 199)',
                        'rgb(83, 102, 255)'
                    ]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                    }
                }
            }
        });

        const copingCtx = document.getElementById('copingChart').getContext('2d');
        const copingChart = new Chart(copingCtx, {
            type: 'bar',
            data: {
                labels: [],
                datasets: [{
                    label: 'Coping Strategy Usage',
                    data: [],
                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                    borderColor: 'rgb(75, 192, 192)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        let triggerData = JSON.parse(localStorage.getItem('triggerData')) || [];
        let streakCount = 0;
        let userGoal = localStorage.getItem('userGoal') ? parseInt(localStorage.getItem('userGoal')) : null;

        function updateCharts() {
            urgeChart.data.labels = triggerData.map(entry => entry.date);
            urgeChart.data.datasets[0].data = triggerData.map(entry => entry.urgeIntensity);
            urgeChart.update();

            const triggerCounts = {};
            triggerData.forEach(entry => {
                triggerCounts[entry.trigger] = (triggerCounts[entry.trigger] || 0) + 1;
            });
            triggerChart.data.labels = Object.keys(triggerCounts);
            triggerChart.data.datasets[0].data = Object.values(triggerCounts);
            triggerChart.update();

            const copingStrategies = {};
            triggerData.forEach(entry => {
                if (entry.coping) {
                    copingStrategies[entry.coping] = (copingStrategies[entry.coping] || 0) + 1;
                }
            });
            copingChart.data.labels = Object.keys(copingStrategies);
            copingChart.data.datasets[0].data = Object.values(copingStrategies);
            copingChart.update();
        }

        function updateStreak() {
            const sortedData = triggerData.sort((a, b) => new Date(b.date) - new Date(a.date));
            const lastStrongUrge = sortedData.find(entry => entry.urgeIntensity > 7);
            if (lastStrongUrge) {
                const lastStrongUrgeDate = new Date(lastStrongUrge.date);
                const today = new Date();
                streakCount = Math.floor((today - lastStrongUrgeDate) / (1000 * 60 * 60 * 24));
            } else {
                streakCount = triggerData.length > 0 ? triggerData.length : 0;
            }
            document.getElementById('streakCount').textContent = streakCount;
        }

        function updateInsights() {
            const insights = document.getElementById('insights');
            insights.innerHTML = '';

            if (triggerData.length > 0) {
                const avgIntensity = triggerData.reduce((sum, entry) => sum + entry.urgeIntensity, 0) / triggerData.length;

                const triggerCounts = {};
                triggerData.forEach(entry => {
                    triggerCounts[entry.trigger] = (triggerCounts[entry.trigger] || 0) + 1;
                });
                const mostCommonTrigger = Object.keys(triggerCounts).reduce((a, b) => triggerCounts[a] > triggerCounts[b] ? a : b);

                const recentEntries = triggerData.slice(-5);
                const trend = recentEntries[recentEntries.length - 1].urgeIntensity - recentEntries[0].urgeIntensity;

                insights.innerHTML += `
                    <p class="font-semibold">Average urge intensity: <span class="text-blue-600">${avgIntensity.toFixed(1)}</span></p>
                    <p class="font-semibold">Most common trigger: <span class="text-blue-600">${mostCommonTrigger}</span></p>
                    <p class="font-semibold">Total entries: <span class="text-blue-600">${triggerData.length}</span></p>
                    <p class="font-semibold">Recent trend: <span class="text-${trend > 0 ? 'red' : 'green'}-600">${trend > 0 ? 'Increasing' : 'Decreasing'}</span></p>
                    <p class="mt-4">Recommendation: Focus on developing coping strategies for "${mostCommonTrigger}" as it appears to be your most frequent trigger. ${trend > 0 ? 'Be mindful of the increasing trend in urge intensity and consider reaching out for additional support.' : 'Great job on managing your urges! Keep using effective coping strategies.'}</p>
                `;

                const averageRecentIntensity = recentEntries.reduce((sum, entry) => sum + entry.urgeIntensity, 0) / recentEntries.length;
                const overallAverageIntensity = triggerData.reduce((sum, entry) => sum + entry.urgeIntensity, 0) / triggerData.length;

                insights.innerHTML += `
                    <p class="mt-4">Your recent average urge intensity (last 5 entries): <span class="font-semibold text-${averageRecentIntensity < overallAverageIntensity ? 'green' : 'red'}-600">${averageRecentIntensity.toFixed(1)}</span></p>
                    <p>This is ${averageRecentIntensity < overallAverageIntensity ? 'lower' : 'higher'} than your overall average of ${overallAverageIntensity.toFixed(1)}.</p>
                    <p class="mt-4">Most effective coping strategies:</p>
                    <ul class="list-disc list-inside">
                        ${getMostEffectiveCopingStrategies().map(strategy => `<li>${strategy}</li>`).join('')}
                    </ul>
                `;
            } else {
                insights.innerHTML = '<p>Start logging your triggers and urges to see insights here.</p>';
            }
        }

        function getMostEffectiveCopingStrategies() {
            const copingEffectiveness = {};
            triggerData.forEach(entry => {
                if (entry.coping) {
                    if (!copingEffectiveness[entry.coping]) {
                        copingEffectiveness[entry.coping] = { count: 0, totalIntensity: 0 };
                    }
                    copingEffectiveness[entry.coping].count++;
                    copingEffectiveness[entry.coping].totalIntensity += entry.urgeIntensity;
                }
            });

            const sortedStrategies = Object.entries(copingEffectiveness)
                .sort((a, b) => (a[1].totalIntensity / a[1].count) - (b[1].totalIntensity / b[1].count))
                .slice(0, 3);

            return sortedStrategies.map(([strategy]) => strategy);
        }

        document.getElementById('triggerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const date = document.getElementById('date').value;
            const trigger = document.getElementById('trigger').value;
            const urgeIntensity = parseInt(document.getElementById('urgeIntensity').value);
            const coping = document.getElementById('coping').value;

            triggerData.push({ date, trigger, urgeIntensity, coping });

            localStorage.setItem('triggerData', JSON.stringify(triggerData));

            updateCharts();
            this.reset();
            updateInsights();
            updateStreak();
            updateCopingChart();
            updateGoalProgress();
        });

        document.getElementById('exportData').addEventListener('click', function() {
            const dataStr = JSON.stringify(triggerData);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            const exportFileDefaultName = 'trigger_data.json';

            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        });

        document.getElementById('importData').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const reader = new FileReader();
            reader.onload = function(e) {
                const importedData = JSON.parse(e.target.result);
                triggerData = importedData;
                localStorage.setItem('triggerData', JSON.stringify(triggerData));
                updateCharts();
                updateInsights();
                updateStreak();
                updateCopingChart();
            };
            reader.readAsText(file);
        });

        document.getElementById('goalForm').addEventListener('submit', function(e) {
            e.preventDefault();
            userGoal = parseInt(document.getElementById('goalDays').value);
            localStorage.setItem('userGoal', userGoal);
            updateGoalProgress();
        });

        function updateGoalProgress() {
            if (userGoal) {
                const progress = (streakCount / userGoal) * 100;
                document.getElementById('goalProgress').classList.remove('hidden');
                document.getElementById('goalProgressText').textContent = `${streakCount} / ${userGoal} days`;
                document.getElementById('goalProgressBar').style.width = `${Math.min(progress, 100)}%`;
            }
        }

        function updateCopingChart() {
            const copingStrategies = {};
            triggerData.forEach(entry => {
                if (entry.coping) {
                    copingStrategies[entry.coping] = (copingStrategies[entry.coping] || 0) + 1;
                }
            });
            copingChart.data.labels = Object.keys(copingStrategies);
            copingChart.data.datasets[0].data = Object.values(copingStrategies);
            copingChart.update();
        }

        updateCharts();
        updateStreak();
        updateInsights();
        updateCopingChart();
        updateGoalProgress();
    </script>
</body></html>